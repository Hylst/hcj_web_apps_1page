<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeamTasks | Gestion collaborative de tâches</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#3b82f6',
                            600: '#2563eb',
                        },
                        secondary: {
                            500: '#6b7280',
                            600: '#4b5563',
                        },
                        success: {
                            500: '#10b981',
                            600: '#059669',
                        },
                        danger: {
                            500: '#ef4444',
                            600: '#dc2626',
                        },
                        warning: {
                            500: '#f59e0b',
                            600: '#d97706',
                        },
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <style>
        /* Custom CSS */
        .task-card:hover .task-actions {
            opacity: 1;
            transform: translateX(0);
        }
        
        .priority-urgent {
            border-left: 4px solid theme('colors.danger.500');
        }
        
        .priority-normal {
            border-left: 4px solid theme('colors.primary.500');
        }
        
        .priority-low {
            border-left: 4px solid theme('colors.success.500');
        }
        
        .comment-bubble {
            position: relative;
            background-color: theme('colors.gray.100');
            border-radius: 1rem;
            padding: 0.75rem;
            transition: all 0.2s;
        }
        
        .comment-bubble:hover {
            background-color: theme('colors.gray.200');
        }
        
        .comment-bubble:after {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 0;
            height: 0;
            border: 10px solid transparent;
            border-right-color: theme('colors.gray.100');
            border-left: 0;
            margin-top: -10px;
            margin-left: -10px;
        }
        
        .comment-bubble:hover:after {
            border-right-color: theme('colors.gray.200');
        }
        
        /* Animations */
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.2s ease-out;
        }
        
        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: theme('colors.gray.100');
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: theme('colors.gray.300');
            border-radius: 3px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: theme('colors.gray.400');
        }
        
        /* Kanban column */
        .kanban-column {
            min-height: 400px;
            transition: all 0.3s;
        }
        
        /* Drag and drop */
        .dragging {
            opacity: 0.5;
            transform: scale(0.98);
        }
        
        .drag-over {
            background-color: theme('colors.primary.50');
            border: 2px dashed theme('colors.primary.500');
        }
        
        /* Progress bar */
        .progress-bar {
            height: 6px;
            border-radius: 3px;
            background-color: theme('colors.gray.200');
            overflow: hidden;
        }
        
        .progress-bar-fill {
            height: 100%;
            background-color: theme('colors.primary.500');
            transition: width 0.3s ease;
        }
        
        /* Dark mode toggle */
        .dark-mode-toggle {
            transition: all 0.3s;
        }
        
        .dark-mode-toggle .toggle-circle {
            transition: transform 0.3s;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .kanban-column {
                min-height: auto;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans transition-colors duration-200 dark:bg-gray-900 dark:text-gray-100">
    <!-- Header -->
    <header class="bg-white shadow-sm dark:bg-gray-800 dark:border-b dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <div class="flex items-center">
                    <i class="fas fa-tasks text-primary-500 text-2xl mr-2"></i>
                    <h1 class="text-xl font-bold text-gray-800 dark:text-white">TeamTasks</h1>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="#" class="text-primary-600 font-medium dark:text-primary-400">Tableau</a>
                    <a href="#" class="text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400">Calendrier</a>
                    <a href="#" class="text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400">Membres</a>
                    <a href="#" class="text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400">Statistiques</a>
                </nav>
            </div>
            <div class="flex items-center space-x-4">
                <!-- Dark mode toggle -->
                <button id="darkModeToggle" class="dark-mode-toggle relative w-12 h-6 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center">
                    <span class="toggle-circle absolute left-1 w-4 h-4 rounded-full bg-white dark:bg-gray-300 transform dark:translate-x-6 transition-transform"></span>
                    <i class="fas fa-sun text-xs text-yellow-500 absolute left-6"></i>
                    <i class="fas fa-moon text-xs text-blue-500 absolute right-1"></i>
                </button>
                
                <!-- Search bar -->
                <div class="relative hidden md:block">
                    <input type="text" placeholder="Rechercher..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400">
                    <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                </div>
                
                <!-- Notifications -->
                <div class="relative">
                    <button id="notificationBtn" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 relative">
                        <i class="fas fa-bell text-gray-600 dark:text-gray-300"></i>
                        <span class="absolute top-0 right-0 h-2 w-2 rounded-full bg-danger-500"></span>
                    </button>
                    <div id="notificationDropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg z-10 border border-gray-200 dark:bg-gray-800 dark:border-gray-700">
                        <div class="p-3 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                            <h3 class="font-medium dark:text-white">Notifications</h3>
                            <button class="text-primary-500 text-sm dark:text-primary-400">Tout marquer comme lu</button>
                        </div>
                        <div class="max-h-60 overflow-y-auto custom-scrollbar">
                            <div class="notification p-3 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-600 dark:text-blue-300">
                                        <i class="fas fa-user-plus text-sm"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium dark:text-white">Nouveau membre</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Jean Dupont a rejoint l'équipe</p>
                                        <p class="text-xs text-gray-400 mt-1">Il y a 2 minutes</p>
                                    </div>
                                </div>
                            </div>
                            <div class="notification p-3 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 h-8 w-8 rounded-full bg-red-100 dark:bg-red-900 flex items-center justify-center text-red-600 dark:text-red-300">
                                        <i class="fas fa-exclamation text-sm"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium dark:text-white">Tâche urgente</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">La tâche "Rapport trimestriel" est en retard</p>
                                        <p class="text-xs text-gray-400 mt-1">Il y a 1 heure</p>
                                    </div>
                                </div>
                            </div>
                            <div class="notification p-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 h-8 w-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center text-green-600 dark:text-green-300">
                                        <i class="fas fa-check-circle text-sm"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium dark:text-white">Tâche complétée</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">"Réunion client" a été marquée comme terminée</p>
                                        <p class="text-xs text-gray-400 mt-1">Il y a 3 heures</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="p-3 text-center border-t border-gray-200 dark:border-gray-700">
                            <a href="#" class="text-primary-500 text-sm dark:text-primary-400">Voir toutes les notifications</a>
                        </div>
                    </div>
                </div>
                
                <!-- User menu -->
                <div class="relative">
                    <button id="userMenuBtn" class="flex items-center space-x-2 focus:outline-none">
                        <img class="h-8 w-8 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="Profile">
                        <span class="hidden md:inline text-gray-700 dark:text-white">Geoffroy Streit</span>
                        <i class="fas fa-chevron-down text-gray-500 text-xs dark:text-gray-300"></i>
                    </button>
                    <div id="userMenuDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200 dark:bg-gray-800 dark:border-gray-700">
                        <div class="py-1">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700">Profil</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700">Paramètres</a>
                            <div class="border-t border-gray-200 dark:border-gray-700"></div>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700">Déconnexion</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8">
        <!-- Project Header -->
        <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">
            <div>
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white">Projet Marketing Digital</h2>
                <p class="text-gray-600 dark:text-gray-300">Gestion des tâches pour la campagne de printemps</p>
                
                <!-- Progress bar -->
                <div class="mt-2">
                    <div class="flex justify-between text-sm text-gray-600 dark:text-gray-300 mb-1">
                        <span>Progression: 50%</span>
                        <span>12/24 tâches complétées</span>
                    </div>
                    <div class="progress-bar w-full">
                        <div class="progress-bar-fill" style="width: 50%"></div>
                    </div>
                </div>
            </div>
            <div class="mt-4 md:mt-0 flex space-x-3">
                <button class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600 flex items-center">
                    <i class="fas fa-file-export mr-2"></i>
                    <span>Exporter</span>
                </button>
                <button id="newTaskBtn" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-primary-500 hover:bg-primary-600 flex items-center">
                    <i class="fas fa-plus mr-2"></i>
                    <span>Nouvelle tâche</span>
                </button>
            </div>
        </div>

        <!-- Filters and Stats -->
        <div class="bg-white rounded-lg shadow-sm p-4 mb-6 dark:bg-gray-800 dark:border dark:border-gray-700">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                <div class="flex flex-wrap items-center gap-3 mb-4 md:mb-0">
                    <div class="relative">
                        <select class="block appearance-none bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 pr-8 rounded-md leading-tight focus:outline-none focus:bg-white focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            <option>Toutes les tâches</option>
                            <option>Mes tâches</option>
                            <option>En retard</option>
                            <option>Terminées</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-chevron-down text-xs"></i>
                        </div>
                    </div>
                    <div class="relative">
                        <select class="block appearance-none bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 pr-8 rounded-md leading-tight focus:outline-none focus:bg-white focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            <option>Toutes les priorités</option>
                            <option>Urgent</option>
                            <option>Normal</option>
                            <option>Basse</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-chevron-down text-xs"></i>
                        </div>
                    </div>
                    <div class="relative">
                        <select class="block appearance-none bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 pr-8 rounded-md leading-tight focus:outline-none focus:bg-white focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            <option>Tous les membres</option>
                            <option>Sophie Martin</option>
                            <option>Marc Dubois</option>
                            <option>Thomas Leroy</option>
                            <option>Claire Bernard</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-chevron-down text-xs"></i>
                        </div>
                    </div>
                    <button class="px-3 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600 flex items-center">
                        <i class="fas fa-filter mr-2"></i>
                        <span>Filtrer</span>
                    </button>
                </div>
                <div class="flex items-center space-x-6">
                    <div class="text-center">
                        <p class="text-sm text-gray-500 dark:text-gray-300">Tâches totales</p>
                        <p class="text-lg font-semibold dark:text-white">24</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-gray-500 dark:text-gray-300">En retard</p>
                        <p class="text-lg font-semibold text-danger-500">3</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-gray-500 dark:text-gray-300">Terminées</p>
                        <p class="text-lg font-semibold text-success-500">12</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-gray-500 dark:text-gray-300">En cours</p>
                        <p class="text-lg font-semibold text-warning-500">4</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Task Columns -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- To Do Column -->
            <div class="kanban-column bg-gray-50 rounded-lg shadow-sm p-4 dark:bg-gray-800 dark:border dark:border-gray-700" data-status="todo">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                        <h3 class="font-medium text-gray-700 dark:text-white">À faire</h3>
                        <span class="ml-2 bg-gray-200 text-gray-700 text-xs font-medium px-2 py-0.5 rounded-full dark:bg-gray-700 dark:text-gray-300">8</span>
                    </div>
                    <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                        <i class="fas fa-ellipsis-h"></i>
                    </button>
                </div>
                <div class="space-y-4 todo-tasks">
                    <!-- Task Card 1 -->
                    <div class="task-card bg-white rounded-lg shadow-sm p-4 priority-urgent dark:bg-gray-700 dark:border dark:border-gray-600" draggable="true" data-task-id="15">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="flex items-center mb-2">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-danger-100 text-danger-800 dark:bg-danger-900 dark:text-danger-200 mr-2">
                                        Urgent
                                    </span>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">#TASK-15</span>
                                </div>
                                <h4 class="font-medium text-gray-800 dark:text-white mb-2">Concevoir la nouvelle landing page</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">La page doit mettre en avant les nouvelles fonctionnalités du produit</p>
                            </div>
                            <div class="task-actions opacity-0 transition-all duration-200 flex space-x-1 transform translate-x-2">
                                <button class="p-1 text-gray-400 hover:text-primary-500 dark:hover:text-primary-400">
                                    <i class="fas fa-edit text-sm"></i>
                                </button>
                                <button class="p-1 text-gray-400 hover:text-danger-500 dark:hover:text-danger-400">
                                    <i class="fas fa-trash-alt text-sm"></i>
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between mt-3">
                            <div class="flex items-center">
                                <img class="h-6 w-6 rounded-full border-2 border-white dark:border-gray-800 -mr-2" src="https://randomuser.me/api/portraits/women/44.jpg" alt="Assignee">
                                <img class="h-6 w-6 rounded-full border-2 border-white dark:border-gray-800" src="https://randomuser.me/api/portraits/men/32.jpg" alt="Assignee">
                                <span class="ml-4 text-xs text-gray-500 dark:text-gray-400">Assigné à Sophie & Marc</span>
                            </div>
                            <div class="text-xs text-danger-500 font-medium">
                                <i class="fas fa-clock mr-1"></i> 2 jours de retard
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-gray-100 dark:border-gray-600 flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="far fa-comment mr-1"></i> 3
                                </button>
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="fas fa-paperclip mr-1"></i> 2
                                </button>
                            </div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                Créé le 12/04/2023
                            </div>
                        </div>
                    </div>

                    <!-- Task Card 2 -->
                    <div class="task-card bg-white rounded-lg shadow-sm p-4 priority-normal dark:bg-gray-700 dark:border dark:border-gray-600" draggable="true" data-task-id="18">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="flex items-center mb-2">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200 mr-2">
                                        Normal
                                    </span>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">#TASK-18</span>
                                </div>
                                <h4 class="font-medium text-gray-800 dark:text-white mb-2">Réviser le contenu du blog</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">Vérifier les articles avant publication</p>
                            </div>
                            <div class="task-actions opacity-0 transition-all duration-200 flex space-x-1 transform translate-x-2">
                                <button class="p-1 text-gray-400 hover:text-primary-500 dark:hover:text-primary-400">
                                    <i class="fas fa-edit text-sm"></i>
                                </button>
                                <button class="p-1 text-gray-400 hover:text-danger-500 dark:hover:text-danger-400">
                                    <i class="fas fa-trash-alt text-sm"></i>
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between mt-3">
                            <div class="flex items-center">
                                <img class="h-6 w-6 rounded-full border-2 border-white dark:border-gray-800" src="https://randomuser.me/api/portraits/women/68.jpg" alt="Assignee">
                                <span class="ml-2 text-xs text-gray-500 dark:text-gray-400">Assigné à Claire</span>
                            </div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                <i class="fas fa-clock mr-1"></i> Échéance: 20/04/2023
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-gray-100 dark:border-gray-600 flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="far fa-comment mr-1"></i> 0
                                </button>
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="fas fa-paperclip mr-1"></i> 1
                                </button>
                            </div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                Créé le 10/04/2023
                            </div>
                        </div>
                    </div>
                </div>
                <button class="add-task-btn mt-4 w-full py-2 border border-dashed border-gray-300 rounded-md text-gray-500 hover:text-gray-700 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-400 dark:hover:text-gray-300 flex items-center justify-center">
                    <i class="fas fa-plus mr-2"></i>
                    <span>Ajouter une tâche</span>
                </button>
            </div>

            <!-- In Progress Column -->
            <div class="kanban-column bg-gray-50 rounded-lg shadow-sm p-4 dark:bg-gray-800 dark:border dark:border-gray-700" data-status="inprogress">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                        <h3 class="font-medium text-gray-700 dark:text-white">En cours</h3>
                        <span class="ml-2 bg-gray-200 text-gray-700 text-xs font-medium px-2 py-0.5 rounded-full dark:bg-gray-700 dark:text-gray-300">4</span>
                    </div>
                    <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                        <i class="fas fa-ellipsis-h"></i>
                    </button>
                </div>
                <div class="space-y-4 inprogress-tasks">
                    <!-- Task Card 3 -->
                    <div class="task-card bg-white rounded-lg shadow-sm p-4 priority-urgent dark:bg-gray-700 dark:border dark:border-gray-600" draggable="true" data-task-id="7">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="flex items-center mb-2">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-danger-100 text-danger-800 dark:bg-danger-900 dark:text-danger-200 mr-2">
                                        Urgent
                                    </span>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">#TASK-07</span>
                                </div>
                                <h4 class="font-medium text-gray-800 dark:text-white mb-2">Créer les visuels pour réseaux sociaux</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">10 visuels pour la campagne printemps</p>
                            </div>
                            <div class="task-actions opacity-0 transition-all duration-200 flex space-x-1 transform translate-x-2">
                                <button class="p-1 text-gray-400 hover:text-primary-500 dark:hover:text-primary-400">
                                    <i class="fas fa-edit text-sm"></i>
                                </button>
                                <button class="p-1 text-gray-400 hover:text-danger-500 dark:hover:text-danger-400">
                                    <i class="fas fa-trash-alt text-sm"></i>
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between mt-3">
                            <div class="flex items-center">
                                <img class="h-6 w-6 rounded-full border-2 border-white dark:border-gray-800" src="https://randomuser.me/api/portraits/men/75.jpg" alt="Assignee">
                                <span class="ml-2 text-xs text-gray-500 dark:text-gray-400">Assigné à Thomas</span>
                            </div>
                            <div class="text-xs text-warning-500 font-medium">
                                <i class="fas fa-clock mr-1"></i> Échéance aujourd'hui
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-gray-100 dark:border-gray-600 flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="far fa-comment mr-1"></i> 5
                                </button>
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="fas fa-paperclip mr-1"></i> 4
                                </button>
                            </div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                Créé le 05/04/2023
                            </div>
                        </div>
                    </div>

                    <!-- Task Card 5 -->
                    <div class="task-card bg-white rounded-lg shadow-sm p-4 priority-low dark:bg-gray-700 dark:border dark:border-gray-600" draggable="true" data-task-id="22">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="flex items-center mb-2">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-success-100 text-success-800 dark:bg-success-900 dark:text-success-200 mr-2">
                                        Basse
                                    </span>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">#TASK-22</span>
                                </div>
                                <h4 class="font-medium text-gray-800 dark:text-white mb-2">Mettre à jour la FAQ</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">Ajouter les nouvelles questions fréquentes</p>
                            </div>
                            <div class="task-actions opacity-0 transition-all duration-200 flex space-x-1 transform translate-x-2">
                                <button class="p-1 text-gray-400 hover:text-primary-500 dark:hover:text-primary-400">
                                    <i class="fas fa-edit text-sm"></i>
                                </button>
                                <button class="p-1 text-gray-400 hover:text-danger-500 dark:hover:text-danger-400">
                                    <i class="fas fa-trash-alt text-sm"></i>
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between mt-3">
                            <div class="flex items-center">
                                <img class="h-6 w-6 rounded-full border-2 border-white dark:border-gray-800" src="https://randomuser.me/api/portraits/women/33.jpg" alt="Assignee">
                                <span class="ml-2 text-xs text-gray-500 dark:text-gray-400">Assigné à Émilie</span>
                            </div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                <i class="fas fa-clock mr-1"></i> Échéance: 25/04/2023
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-gray-100 dark:border-gray-600 flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="far fa-comment mr-1"></i> 1
                                </button>
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="fas fa-paperclip mr-1"></i> 0
                                </button>
                            </div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                Créé le 08/04/2023
                            </div>
                        </div>
                    </div>
                </div>
                <button class="add-task-btn mt-4 w-full py-2 border border-dashed border-gray-300 rounded-md text-gray-500 hover:text-gray-700 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-400 dark:hover:text-gray-300 flex items-center justify-center">
                    <i class="fas fa-plus mr-2"></i>
                    <span>Ajouter une tâche</span>
                </button>
            </div>

            <!-- Done Column -->
            <div class="kanban-column bg-gray-50 rounded-lg shadow-sm p-4 dark:bg-gray-800 dark:border dark:border-gray-700" data-status="done">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                        <h3 class="font-medium text-gray-700 dark:text-white">Terminé</h3>
                        <span class="ml-2 bg-gray-200 text-gray-700 text-xs font-medium px-2 py-0.5 rounded-full dark:bg-gray-700 dark:text-gray-300">12</span>
                    </div>
                    <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                        <i class="fas fa-ellipsis-h"></i>
                    </button>
                </div>
                <div class="space-y-4 done-tasks">
                    <!-- Task Card 4 -->
                    <div class="task-card bg-white rounded-lg shadow-sm p-4 opacity-70 dark:bg-gray-700 dark:border dark:border-gray-600" draggable="true" data-task-id="3">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="flex items-center mb-2">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-success-100 text-success-800 dark:bg-success-900 dark:text-success-200 mr-2">
                                        Terminé
                                    </span>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">#TASK-03</span>
                                </div>
                                <h4 class="font-medium text-gray-800 dark:text-white mb-2">Réunion avec l'équipe créative</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">Présentation des idées pour la nouvelle campagne</p>
                            </div>
                            <div class="task-actions opacity-0 transition-all duration-200 flex space-x-1 transform translate-x-2">
                                <button class="p-1 text-gray-400 hover:text-primary-500 dark:hover:text-primary-400">
                                    <i class="fas fa-edit text-sm"></i>
                                </button>
                                <button class="p-1 text-gray-400 hover:text-danger-500 dark:hover:text-danger-400">
                                    <i class="fas fa-trash-alt text-sm"></i>
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between mt-3">
                            <div class="flex items-center">
                                <img class="h-6 w-6 rounded-full border-2 border-white dark:border-gray-800 -mr-2" src="https://randomuser.me/api/portraits/women/44.jpg" alt="Assignee">
                                <img class="h-6 w-6 rounded-full border-2 border-white dark:border-gray-800" src="https://randomuser.me/api/portraits/men/32.jpg" alt="Assignee">
                                <span class="ml-4 text-xs text-gray-500 dark:text-gray-400">Assigné à Sophie & Marc</span>
                            </div>
                            <div class="text-xs text-success-500 font-medium">
                                <i class="fas fa-check-circle mr-1"></i> Terminé le 10/04/2023
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-gray-100 dark:border-gray-600 flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="far fa-comment mr-1"></i> 7
                                </button>
                                <button class="text-gray-400 hover:text-primary-500 dark:hover:text-primary-400 text-sm flex items-center">
                                    <i class="fas fa-paperclip mr-1"></i> 3
                                </button>
                            </div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                Créé le 01/04/2023
                            </div>
                        </div>
                    </div>
                </div>
                <button class="add-task-btn mt-4 w-full py-2 border border-dashed border-gray-300 rounded-md text-gray-500 hover:text-gray-700 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-400 dark:hover:text-gray-300 flex items-center justify-center">
                    <i class="fas fa-plus mr-2"></i>
                    <span>Ajouter une tâche</span>
                </button>
            </div>
        </div>
    </main>

    <!-- Task Detail Modal (hidden by default) -->
    <div id="taskModal" class="hidden fixed inset-0 overflow-y-auto z-50">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75 dark:bg-gray-900 dark:opacity-80"></div>
            </div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full dark:bg-gray-800 dark:border dark:border-gray-700">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 dark:bg-gray-800">
                    <div class="sm:flex sm:items-start">
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <div class="flex justify-between items-start">
                                <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4" id="modal-title">
                                    Concevoir la nouvelle landing page
                                </h3>
                                <button id="closeModal" class="text-gray-400 hover:text-gray-500 dark:hover:text-gray-300">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="mt-2 w-full">
                                <div class="flex items-center mb-4">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-danger-100 text-danger-800 dark:bg-danger-900 dark:text-danger-200 mr-3">
                                        Urgent
                                    </span>
                                    <span class="text-xs text-gray-500 dark:text-gray-400 mr-3">#TASK-15</span>
                                    <span class="text-xs text-danger-500 font-medium dark:text-danger-400">
                                        <i class="fas fa-clock mr-1"></i> 2 jours de retard
                                    </span>
                                </div>
                                
                                <div class="mb-6">
                                    <p class="text-sm text-gray-600 dark:text-gray-300">La page doit mettre en avant les nouvelles fonctionnalités du produit avec un design moderne et des call-to-action clairs. Le public cible est les professionnels âgés de 25-45 ans.</p>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Assigné à</h4>
                                        <div class="flex items-center">
                                            <img class="h-8 w-8 rounded-full border-2 border-white dark:border-gray-800 -mr-2" src="https://randomuser.me/api/portraits/women/44.jpg" alt="Assignee">
                                            <img class="h-8 w-8 rounded-full border-2 border-white dark:border-gray-800" src="https://randomuser.me/api/portraits/men/32.jpg" alt="Assignee">
                                            <span class="ml-3 text-sm text-gray-600 dark:text-gray-400">Sophie Martin & Marc Dubois</span>
                                        </div>
                                    </div>
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Échéance</h4>
                                        <div class="flex items-center">
                                            <i class="fas fa-calendar-day text-gray-400 dark:text-gray-500 mr-2"></i>
                                            <span class="text-sm text-gray-600 dark:text-gray-400">15/04/2023</span>
                                        </div>
                                    </div>
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Créé par</h4>
                                        <div class="flex items-center">
                                            <img class="h-8 w-8 rounded-full border-2 border-white dark:border-gray-800" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="Creator">
                                            <span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Geoffroy Streit</span>
                                        </div>
                                    </div>
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Statut</h4>
                                        <select class="block w-full bg-gray-100 border border-gray-300 text-gray-700 py-2 px-3 rounded-md leading-tight focus:outline-none focus:bg-white focus:border-primary-500 text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                            <option>À faire</option>
                                            <option selected>En cours</option>
                                            <option>Terminé</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="mb-6">
                                    <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Pièces jointes (3)</h4>
                                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                        <div class="border rounded-md p-3 flex items-center dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer">
                                            <div class="bg-blue-100 dark:bg-blue-900 p-2 rounded-md mr-3">
                                                <i class="fas fa-file-pdf text-blue-600 dark:text-blue-300"></i>
                                            </div>
                                            <div>
                                                <p class="text-sm font-medium text-gray-800 dark:text-white truncate">Brief_creative.pdf</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">2.4 MB</p>
                                            </div>
                                        </div>
                                        <div class="border rounded-md p-3 flex items-center dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer">
                                            <div class="bg-purple-100 dark:bg-purple-900 p-2 rounded-md mr-3">
                                                <i class="fas fa-link text-purple-600 dark:text-purple-300"></i>
                                            </div>
                                            <div>
                                                <p class="text-sm font-medium text-gray-800 dark:text-white truncate">Inspiration</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">dribbble.com/...</p>
                                            </div>
                                        </div>
                                        <div class="border rounded-md p-3 flex items-center dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer">
                                            <div class="bg-green-100 dark:bg-green-900 p-2 rounded-md mr-3">
                                                <i class="fas fa-file-image text-green-600 dark:text-green-300"></i>
                                            </div>
                                            <div>
                                                <p class="text-sm font-medium text-gray-800 dark:text-white truncate">Logo.png</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">1.2 MB</p>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="mt-3 text-sm text-primary-500 hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300 flex items-center">
                                        <i class="fas fa-plus mr-1"></i> Ajouter une pièce jointe
                                    </button>
                                </div>
                                
                                <div class="mb-6">
                                    <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Commentaires (5)</h4>
                                    <div class="space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-2">
                                        <div class="flex">
                                            <img class="h-8 w-8 rounded-full mr-3" src="https://randomuser.me/api/portraits/women/44.jpg" alt="Commenter">
                                            <div class="flex-1">
                                                <div class="comment-bubble dark:bg-gray-700">
                                                    <p class="text-sm dark:text-gray-200">J'ai commencé sur la structure de la page, voici une première ébauche. Qu'en pensez-vous?</p>
                                                </div>
                                                <div class="flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400">
                                                    <span>Sophie Martin</span>
                                                    <span class="mx-2">•</span>
                                                    <span>Il y a 2 jours</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex">
                                            <img class="h-8 w-8 rounded-full mr-3" src="https://randomuser.me/api/portraits/men/32.jpg" alt="Commenter">
                                            <div class="flex-1">
                                                <div class="comment-bubble dark:bg-gray-700">
                                                    <p class="text-sm dark:text-gray-200">Le design est bien mais il manque les call-to-action. Il faudrait aussi revoir la hiérarchie des informations.</p>
                                                </div>
                                                <div class="flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400">
                                                    <span>Marc Dubois</span>
                                                    <span class="mx-2">•</span>
                                                    <span>Il y a 1 jour</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex">
                                            <img class="h-8 w-8 rounded-full mr-3" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="Commenter">
                                            <div class="flex-1">
                                                <div class="comment-bubble dark:bg-gray-700">
                                                    <p class="text-sm dark:text-gray-200">Je suis d'accord avec Marc. Ajoutons aussi des témoignages clients dans la section inférieure.</p>
                                                </div>
                                                <div class="flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400">
                                                    <span>Geoffroy Streit</span>
                                                    <span class="mx-2">•</span>
                                                    <span>Il y a 1 jour</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-4 flex">
                                        <img class="h-8 w-8 rounded-full mr-3" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="User">
                                        <div class="flex-1">
                                            <textarea class="w-full border border-gray-300 rounded-md p-3 text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400" rows="2" placeholder="Ajouter un commentaire..."></textarea>
                                            <div class="mt-2 flex justify-between items-center">
                                                <div class="flex space-x-2">
                                                    <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                                        <i class="fas fa-paperclip"></i>
                                                    </button>
                                                    <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                                        <i class="fas fa-at"></i>
                                                    </button>
                                                    <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                                        <i class="fas fa-smile"></i>
                                                    </button>
                                                </div>
                                                <button class="px-3 py-1 bg-primary-500 text-white text-sm rounded-md hover:bg-primary-600 dark:bg-primary-600 dark:hover:bg-primary-700">
                                                    Envoyer
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Historique des modifications</h4>
                                    <div class="space-y-3 text-sm">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 mr-3">
                                                <i class="fas fa-user-edit text-xs"></i>
                                            </div>
                                            <div>
                                                <p class="text-gray-800 dark:text-gray-200">Geoffroy Streit a modifié la priorité en "Urgent"</p>
                                                <p class="text-gray-500 dark:text-gray-400 text-xs">10/04/2023 à 14:32</p>
                                            </div>
                                        </div>
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 mr-3">
                                                <i class="fas fa-user-plus text-xs"></i>
                                            </div>
                                            <div>
                                                <p class="text-gray-800 dark:text-gray-200">Marc Dubois a été ajouté comme responsable</p>
                                                <p class="text-gray-500 dark:text-gray-400 text-xs">08/04/2023 à 09:15</p>
                                            </div>
                                        </div>
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 mr-3">
                                                <i class="fas fa-calendar-alt text-xs"></i>
                                            </div>
                                            <div>
                                                <p class="text-gray-800 dark:text-gray-200">La date d'échéance a été changée du 13/04 au 15/04</p>
                                                <p class="text-gray-500 dark:text-gray-400 text-xs">05/04/2023 à 16:45</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse dark:bg-gray-800 dark:border-t dark:border-gray-700">
                    <button type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-500 text-base font-medium text-white hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm dark:bg-primary-600 dark:hover:bg-primary-700">
                        Enregistrer les modifications
                    </button>
                    <button type="button" id="cancelModal" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600">
                        Annuler
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- New Task Modal (hidden by default) -->
    <div id="newTaskModal" class="hidden fixed inset-0 overflow-y-auto z-50">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75 dark:bg-gray-900 dark:opacity-80"></div>
            </div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full dark:bg-gray-800 dark:border dark:border-gray-700">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 dark:bg-gray-800">
                    <div class="sm:flex sm:items-start">
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <div class="flex justify-between items-start">
                                <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4">
                                    Nouvelle tâche
                                </h3>
                                <button id="closeNewTaskModal" class="text-gray-400 hover:text-gray-500 dark:hover:text-gray-300">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="mt-2 w-full">
                                <div class="mb-4">
                                    <label for="taskTitle" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Titre de la tâche</label>
                                    <input type="text" id="taskTitle" class="w-full border border-gray-300 rounded-md p-2 text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="Entrez le titre de la tâche">
                                </div>
                                
                                <div class="mb-4">
                                    <label for="taskDescription" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label>
                                    <textarea id="taskDescription" rows="3" class="w-full border border-gray-300 rounded-md p-2 text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="Décrivez la tâche en détail"></textarea>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <div>
                                        <label for="taskPriority" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Priorité</label>
                                        <select id="taskPriority" class="w-full border border-gray-300 rounded-md p-2 text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                            <option value="normal">Normal</option>
                                            <option value="urgent">Urgent</option>
                                            <option value="low">Basse</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="taskDueDate" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Date d'échéance</label>
                                        <input type="text" id="taskDueDate" class="w-full border border-gray-300 rounded-md p-2 text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="Sélectionnez une date">
                                    </div>
                                    <div>
                                        <label for="taskStatus" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Statut</label>
                                        <select id="taskStatus" class="w-full border border-gray-300 rounded-md p-2 text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                            <option value="todo">À faire</option>
                                            <option value="inprogress">En cours</option>
                                            <option value="done">Terminé</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Assigner à</label>
                                        <div class="flex items-center space-x-2">
                                            <div class="relative flex-1">
                                                <select class="w-full border border-gray-300 rounded-md p-2 text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                                                    <option value="">Sélectionnez un membre</option>
                                                    <option value="1">Sophie Martin</option>
                                                    <option value="2">Marc Dubois</option>
                                                    <option value="3">Thomas Leroy</option>
                                                    <option value="4">Claire Bernard</option>
                                                </select>
                                            </div>
                                            <button class="p-2 text-primary-500 hover:text-primary-600 dark:hover:text-primary-400">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-4">
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Pièces jointes</label>
                                    <div class="flex items-center justify-center w-full">
                                        <label for="taskAttachments" class="flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:border-gray-600 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600">
                                            <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                                <i class="fas fa-cloud-upload-alt text-gray-400 mb-2 text-xl"></i>
                                                <p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Cliquez pour uploader</span> ou glissez-déposez</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">PDF, DOCX, PNG, JPG (MAX. 5MB)</p>
                                            </div>
                                            <input id="taskAttachments" type="file" class="hidden" multiple>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="mb-4">
                                    <label for="taskLabels" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Étiquettes</label>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200">
                                            Design
                                        </span>
                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200">
                                            Marketing
                                        </span>
                                        <button class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600">
                                            <i class="fas fa-plus mr-1"></i> Ajouter
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse dark:bg-gray-800 dark:border-t dark:border-gray-700">
                    <button type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-500 text-base font-medium text-white hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm dark:bg-primary-600 dark:hover:bg-primary-700">
                        Créer la tâche
                    </button>
                    <button type="button" id="cancelNewTaskModal" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600">
                        Annuler
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast (hidden by default) -->
    <div id="notificationToast" class="hidden fixed bottom-4 right-4 w-72 bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden z-50 dark:bg-gray-800 dark:border-gray-700">
        <div class="p-4">
            <div class="flex items-start">
                <div class="flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-600 dark:text-blue-300">
                    <i class="fas fa-bell text-sm"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm font-medium dark:text-white">Nouvelle tâche assignée</p>
                    <p class="text-xs text-gray-500 dark:text-gray-400">"Réviser le contenu SEO" vous a été assigné</p>
                </div>
                <button id="closeToast" class="ml-auto text-gray-400 hover:text-gray-500 dark:hover:text-gray-300">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="bg-gray-50 px-4 py-2 text-right dark:bg-gray-700">
            <button class="text-primary-500 text-xs font-medium dark:text-primary-400">Voir</button>
        </div>
    </div>

    <!-- Success Toast (hidden by default) -->
    <div id="successToast" class="hidden fixed bottom-4 right-4 w-72 bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden z-50 dark:bg-gray-800 dark:border-gray-700">
        <div class="p-4">
            <div class="flex items-start">
                <div class="flex-shrink-0 h-8 w-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center text-green-600 dark:text-green-300">
                    <i class="fas fa-check-circle text-sm"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm font-medium dark:text-white">Tâche créée</p>
                    <p class="text-xs text-gray-500 dark:text-gray-400">La tâche a été ajoutée avec succès</p>
                </div>
                <button id="closeSuccessToast" class="ml-auto text-gray-400 hover:text-gray-500 dark:hover:text-gray-300">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/fr.js"></script>
    <script>
        // Initialize date picker
        flatpickr("#taskDueDate", {
            dateFormat: "d/m/Y",
            locale: "fr",
            minDate: "today"
        });

        // Dark mode toggle
        const darkModeToggle = document.getElementById('darkModeToggle');
        const html = document.documentElement;

        // Check for saved user preference or system preference
        const userPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedMode = localStorage.getItem('darkMode');

        if (savedMode === 'dark' || (!savedMode && userPrefersDark)) {
            html.classList.add('dark');
        }

        darkModeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            localStorage.setItem('darkMode', html.classList.contains('dark') ? 'dark' : 'light');
        });

        // Toggle dropdown menus
        document.getElementById('notificationBtn').addEventListener('click', function() {
            document.getElementById('notificationDropdown').classList.toggle('hidden');
        });

        document.getElementById('userMenuBtn').addEventListener('click', function() {
            document.getElementById('userMenuDropdown').classList.toggle('hidden');
        });

        // Close dropdowns when clicking outside
        window.addEventListener('click', function(event) {
            if (!event.target.matches('#notificationBtn')) {
                document.getElementById('notificationDropdown').classList.add('hidden');
            }
            if (!event.target.matches('#userMenuBtn')) {
                document.getElementById('userMenuDropdown').classList.add('hidden');
            }
        });

        // Task modal functionality
        const taskCards = document.querySelectorAll('.task-card');
        const taskModal = document.getElementById('taskModal');
        const closeModal = document.getElementById('closeModal');
        const cancelModal = document.getElementById('cancelModal');

        taskCards.forEach(card => {
            card.addEventListener('click', function() {
                taskModal.classList.remove('hidden');
                document.body.classList.add('overflow-hidden');
            });
        });

        closeModal.addEventListener('click', function() {
            taskModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        });

        cancelModal.addEventListener('click', function() {
            taskModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        });

        // New task modal functionality
        const newTaskBtn = document.getElementById('newTaskBtn');
        const newTaskModal = document.getElementById('newTaskModal');
        const closeNewTaskModal = document.getElementById('closeNewTaskModal');
        const cancelNewTaskModal = document.getElementById('cancelNewTaskModal');

        newTaskBtn.addEventListener('click', function() {
            newTaskModal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
        });

        closeNewTaskModal.addEventListener('click', function() {
            newTaskModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        });

        cancelNewTaskModal.addEventListener('click', function() {
            newTaskModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        });

        // Show notification toast after 3 seconds
        setTimeout(function() {
            document.getElementById('notificationToast').classList.remove('hidden');
            
            // Auto-hide after 5 seconds
</html>